{"code":"webpackHotUpdate(0,{\"./src/main/app.js\":function(module,exports,__webpack_require__){\"use strict\";eval('\\n\\nObject.defineProperty(exports, \"__esModule\", {\\n    value: true\\n});\\n\\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nvar _react = __webpack_require__(\"./node_modules/react/index.js\");\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _reactRouterDom = __webpack_require__(\"./node_modules/react-router-dom/es/index.js\");\\n\\nvar _data = __webpack_require__(\"./src/main/data/data.js\");\\n\\nvar _data2 = _interopRequireDefault(_data);\\n\\nvar _user = __webpack_require__(\"./src/main/data/user.js\");\\n\\nvar _user2 = _interopRequireDefault(_user);\\n\\nvar _ad = __webpack_require__(\"./src/main/comp/ad.js\");\\n\\nvar _ad2 = _interopRequireDefault(_ad);\\n\\nvar _nav = __webpack_require__(\"./src/main/comp/nav.js\");\\n\\nvar _nav2 = _interopRequireDefault(_nav);\\n\\nvar _home = __webpack_require__(\"./src/main/comp/home.js\");\\n\\nvar _home2 = _interopRequireDefault(_home);\\n\\nvar _sex = __webpack_require__(\"./src/main/comp/sex.js\");\\n\\nvar _sex2 = _interopRequireDefault(_sex);\\n\\nvar _form = __webpack_require__(\"./src/main/comp/form.js\");\\n\\nvar _form2 = _interopRequireDefault(_form);\\n\\nvar _detail = __webpack_require__(\"./src/main/comp/detail.js\");\\n\\nvar _detail2 = _interopRequireDefault(_detail);\\n\\nvar _login = __webpack_require__(\"./src/main/comp/login.js\");\\n\\nvar _login2 = _interopRequireDefault(_login);\\n\\nvar _reg = __webpack_require__(\"./src/main/comp/reg.js\");\\n\\nvar _reg2 = _interopRequireDefault(_reg);\\n\\nvar _foot = __webpack_require__(\"./src/main/comp/foot.js\");\\n\\nvar _foot2 = _interopRequireDefault(_foot);\\n\\nvar _islogin = __webpack_require__(\"./src/main/comp/islogin.js\");\\n\\nvar _islogin2 = _interopRequireDefault(_islogin);\\n\\nvar _notlogin = __webpack_require__(\"./src/main/comp/notlogin.js\");\\n\\nvar _notlogin2 = _interopRequireDefault(_notlogin);\\n\\nvar _cart = __webpack_require__(\"./src/main/comp/cart.js\");\\n\\nvar _cart2 = _interopRequireDefault(_cart);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn\\'t been initialised - super() hasn\\'t been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\nvar App = function (_Component) {\\n    _inherits(App, _Component);\\n\\n    function App(props) {\\n        _classCallCheck(this, App);\\n\\n        var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\\n\\n        _this.togmask = function (id) {\\n            var cont = _this.state.cont;\\n\\n            var oimg = cont.find(function (e) {\\n                return e.id === id;\\n            });\\n            _this.setState({\\n                mask: true,\\n                imgurl: oimg.img\\n            });\\n        };\\n\\n        _this.close = function () {\\n            _this.setState({\\n                mask: false,\\n                imgurl: \"imgs/pc0.jpg\"\\n            });\\n        };\\n\\n        _this.logout = function () {\\n            _this.setState({\\n                islog: false\\n            });\\n        };\\n\\n        _this.initCart = function () {\\n            var ck = document.cookie.split(\"; \").find(function (e) {\\n                return (/^u=/.test(e)\\n                );\\n            });\\n            var user = ck ? ck.split(\"=\")[1] : null;\\n            var carts = JSON.parse(localStorage.getItem(user));\\n            var count = 0;\\n            var num = 0;\\n            if (carts) {\\n                carts.forEach(function (e) {\\n                    num += Number(e.sum);\\n                    count += Number(e.sum) * Number(e.pri);\\n                });\\n            }\\n            _this.addcart1(num, count);\\n        };\\n\\n        _this.addcart1 = function (num, count) {\\n            console.log(num, count);\\n            _this.setState({\\n                cart: count,\\n                pros: num\\n            });\\n        };\\n\\n        _this.clearCart = function () {\\n            var ck = document.cookie.split(\"; \").find(function (e) {\\n                return (/^u=/.test(e)\\n                );\\n            });\\n            var user = ck ? ck.split(\"=\")[1] : null;\\n            localStorage.removeItem(user);\\n            _this.setState({\\n                cart: 0,\\n                pros: 0\\n            });\\n        };\\n\\n        _this.state = {\\n            cont: _data2.default,\\n            mask: false,\\n            imgurl: \\'imgs/pc0.jpg\\',\\n            islog: false,\\n            cart: 0, // 购物车 总价\\n            pros: 0 // 品类 数量，几种商品\\n        };\\n        return _this;\\n    }\\n    // 弹出 遮罩层，图片放大\\n\\n\\n    _createClass(App, [{\\n        key: \"componentDidMount\",\\n        value: function componentDidMount() {\\n            this.initCart();\\n        }\\n    }, {\\n        key: \"render\",\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _state = this.state,\\n                mask = _state.mask,\\n                imgurl = _state.imgurl,\\n                islog = _state.islog,\\n                cart = _state.cart,\\n                pros = _state.pros;\\n\\n            var ck = document.cookie.split(\"; \").find(function (e) {\\n                return (/^u=/.test(e)\\n                );\\n            });\\n            var user = ck ? ck.split(\"=\")[1] : null;\\n\\n            // let user = []\\n            // let tmp = ck.split(\"; \");\\n            // tmp.forEach(e=>{\\n            //     let obj = e.split(\"=\")[0];\\n            //     let attr = e.split(\"=\")[1];\\n            //     user.push( \"{ \"+obj+\" :\"+attr+\"}\" )\\n            // })\\n\\n            if (user) {\\n                _user2.default.forEach(function (e) {\\n                    if (e.user === user) {\\n                        islog = true;\\n                    }\\n                });\\n            }\\n\\n            return _react2.default.createElement(\\n                \"div\",\\n                null,\\n                _react2.default.createElement(\\n                    \"div\",\\n                    { className: \"adcenter clearfix\" },\\n                    _react2.default.createElement(_ad2.default, null),\\n                    _react2.default.createElement(\\n                        \"div\",\\n                        { className: \"ad-right\" },\\n                        _react2.default.createElement(\\n                            \"div\",\\n                            null,\\n                            _react2.default.createElement(\\n                                _reactRouterDom.Link,\\n                                { to: \"/cart\" },\\n                                _react2.default.createElement(\\n                                    \"h3\",\\n                                    null,\\n                                    _react2.default.createElement(\\n                                        \"div\",\\n                                        { className: \"total\" },\\n                                        \"RMB\\\\uFF1A\",\\n                                        _react2.default.createElement(\\n                                            \"span\",\\n                                            { className: \"t-count\" },\\n                                            cart ? cart : 0,\\n                                            \"|\",\\n                                            pros ? pros : 0\\n                                        )\\n                                    ),\\n                                    _react2.default.createElement(\"img\", { alt: \"cart\", src: __webpack_require__(\"./src/main/imgs/cart.png\") })\\n                                )\\n                            ),\\n                            _react2.default.createElement(\\n                                \"p\",\\n                                null,\\n                                _react2.default.createElement(\\n                                    \"a\",\\n                                    {\\n                                        onClick: this.clearCart\\n                                    },\\n                                    \"\\\\u6E05\\\\u7A7A\\\\u8D2D\\\\u7269\\\\u8F66\"\\n                                )\\n                            )\\n                        )\\n                    )\\n                ),\\n                _react2.default.createElement(\\n                    \"div\",\\n                    { className: \"header\" },\\n                    _react2.default.createElement(\\n                        \"div\",\\n                        { className: \"container\" },\\n                        _react2.default.createElement(\\n                            \"div\",\\n                            { className: \"logo\" },\\n                            _react2.default.createElement(\\n                                _reactRouterDom.Link,\\n                                { to: \"/\" },\\n                                _react2.default.createElement(\"img\", { src: __webpack_require__(\"./src/main/imgs/logo.png\"), alt: \"logo\" })\\n                            )\\n                        )\\n                    ),\\n                    _react2.default.createElement(\\n                        \"div\",\\n                        { className: \"head-top\" },\\n                        _react2.default.createElement(\\n                            \"div\",\\n                            { className: \"container\" },\\n                            _react2.default.createElement(\\n                                \"div\",\\n                                { className: \"head-top-l clearfix\" },\\n                                islog ? _react2.default.createElement(_islogin2.default, { logout: this.logout, initCart: this.initCart }) : _react2.default.createElement(_notlogin2.default, null)\\n                            ),\\n                            _react2.default.createElement(\"div\", { className: \"head-top-r\" })\\n                        )\\n                    ),\\n                    _react2.default.createElement(\\n                        \"div\",\\n                        { className: \"head-btm\" },\\n                        _react2.default.createElement(\\n                            \"div\",\\n                            { className: \"container\" },\\n                            _react2.default.createElement(_nav2.default, null)\\n                        )\\n                    )\\n                ),\\n                _react2.default.createElement(_reactRouterDom.Route, { path: \"/\", exact: true, render: function render(props) {\\n                        return _react2.default.createElement(_home2.default, { togfn: _this2.togmask, addcart1: _this2.addcart1 });\\n                    } }),\\n                _react2.default.createElement(_reactRouterDom.Route, { path: \"/:name\", render: function render(props) {\\n                        if (props.match.url === \\'/contact\\') return _react2.default.createElement(_form2.default, null);else if (props.match.url === \\'/login\\') {\\n                            // 判断是否有登录的cookie信息，没有则跳转到登录页面\\n                            return _react2.default.createElement(_login2.default, { initCart: _this2.initCart });\\n                        } else if (props.match.url === \\'/reg\\') return _react2.default.createElement(_reg2.default, { initCart: _this2.initCart, togfn: _this2.togmask, addcart1: _this2.addcart1 });else if (props.match.url === \\'/cart\\') return _react2.default.createElement(_cart2.default, null);else if (props.match.url === \\'/detail\\') return _react2.default.createElement(_detail2.default, { oid: props.location.search.substring(1).split(\"=\")[1], addcart1: _this2.addcart1 });else return _react2.default.createElement(_sex2.default, { sex: props.match.url.substring(1), togfn: _this2.togmask, addcart1: _this2.addcart1 });\\n                    } }),\\n                _react2.default.createElement(\\n                    \"div\",\\n                    { className: \"mask\", style: { display: mask ? \\'block\\' : \\'none\\' } },\\n                    _react2.default.createElement(\\n                        \"div\",\\n                        null,\\n                        _react2.default.createElement(\"img\", { alt: \"./\" + imgurl, src: __webpack_require__(\"./src/main sync recursive ^\\\\\\\\.\\\\\\\\/.*$\")(\"./\" + imgurl) }),\\n                        _react2.default.createElement(\\n                            \"a\",\\n                            { className: \"close\",\\n                                onClick: this.close\\n                            },\\n                            \"X\"\\n                        )\\n                    )\\n                ),\\n                _react2.default.createElement(_foot2.default, null)\\n            );\\n        }\\n    }]);\\n\\n    return App;\\n}(_react.Component);\\n\\nexports.default = App;\\n\\n//# sourceURL=webpack:///./src/main/app.js?')}});","extractedComments":[]}